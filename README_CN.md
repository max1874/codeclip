# CodeClip

一个自动从短信消息中提取验证码并复制到剪贴板的实用工具。

## 功能特点

- 监控 macOS 上的短信消息
- 自动提取验证码（4-6位数字）
- 将提取的验证码复制到剪贴板，方便粘贴
- 在后台静默运行

## 系统要求

- macOS（需要访问 Messages 数据库）
- iPhone 和 Mac 之间启用了 iCloud 信息同步（短信必须在 Mac 上显示）
- Python 3.6+
- 终端应用需要获得完全磁盘访问权限

## 安装步骤

1. 克隆此仓库
2. 确保已安装 Python 3.6+
3. 在 iPhone 和 Mac 上启用 iCloud 信息同步：
   - 在 iPhone 上：前往设置 > [您的姓名] > iCloud > 信息（打开开关）
   - 在 Mac 上：打开信息应用 > 偏好设置 > iMessage > 启用"在 iCloud 中启用信息"
4. 授予终端（或您首选的终端应用）完全磁盘访问权限：
   - 打开系统偏好设置 > 安全性与隐私 > 隐私
   - 从侧边栏选择"完全磁盘访问权限"
   - 点击"+"按钮并添加终端（或您首选的终端应用）
   - 确保已勾选添加应用旁边的复选框

## 使用方法

### 启动服务

要在后台启动服务：

```bash
./start.sh
```

此脚本将：
- 检查必要文件
- 如有需要，创建虚拟环境
- 安装所需依赖
- 在后台启动服务
- 显示进程 ID

### 停止服务

要停止服务：

```bash
./stop.sh
```

此脚本将查找并终止运行中的进程。

## 工作原理

应用程序监控 macOS Messages 数据库中包含数字验证码的新消息。当检测到验证码时，它会自动复制到剪贴板，随时可以粘贴到需要的地方。

## 故障排除

如果遇到权限问题，请确保：
- 终端已获得完全磁盘访问权限
- 脚本具有执行权限（`chmod +x *.sh`）

对于其他问题，请检查脚本显示的错误信息。 